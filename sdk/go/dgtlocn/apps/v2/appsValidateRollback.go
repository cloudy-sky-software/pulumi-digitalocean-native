// Code generated by pulumigen DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package v2

import (
	"context"
	"reflect"

	"github.com/cloudy-sky-software/pulumi-digitalocean-native/sdk/go/dgtlocn/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

type AppsValidateRollback struct {
	pulumi.CustomResourceState

	// The ID of the deployment to rollback to.
	DeploymentId pulumi.StringPtrOutput `pulumi:"deploymentId"`
	Error        ErrorPtrOutput         `pulumi:"error"`
	// Whether to skip pinning the rollback deployment. If false, the rollback deployment will be pinned and any new deployments including Auto Deploy on Push hooks will be disabled until the rollback is either manually committed or reverted via the CommitAppRollback or RevertAppRollback endpoints respectively. If true, the rollback will be immediately committed and the app will remain unpinned.
	SkipPin pulumi.BoolPtrOutput `pulumi:"skipPin"`
	// Indicates whether the app can be rolled back to the specified deployment.
	Valid pulumi.BoolPtrOutput `pulumi:"valid"`
	// Contains a list of warnings that may cause the rollback to run under unideal circumstances.
	Warnings AppRollbackValidationConditionArrayOutput `pulumi:"warnings"`
}

// NewAppsValidateRollback registers a new resource with the given unique name, arguments, and options.
func NewAppsValidateRollback(ctx *pulumi.Context,
	name string, args *AppsValidateRollbackArgs, opts ...pulumi.ResourceOption) (*AppsValidateRollback, error) {
	if args == nil {
		args = &AppsValidateRollbackArgs{}
	}

	opts = internal.PkgResourceDefaultOpts(opts)
	var resource AppsValidateRollback
	err := ctx.RegisterResource("digitalocean-native:apps/v2:AppsValidateRollback", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetAppsValidateRollback gets an existing AppsValidateRollback resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetAppsValidateRollback(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *AppsValidateRollbackState, opts ...pulumi.ResourceOption) (*AppsValidateRollback, error) {
	var resource AppsValidateRollback
	err := ctx.ReadResource("digitalocean-native:apps/v2:AppsValidateRollback", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering AppsValidateRollback resources.
type appsValidateRollbackState struct {
}

type AppsValidateRollbackState struct {
}

func (AppsValidateRollbackState) ElementType() reflect.Type {
	return reflect.TypeOf((*appsValidateRollbackState)(nil)).Elem()
}

type appsValidateRollbackArgs struct {
	// The app ID
	AppId *string `pulumi:"appId"`
	// The ID of the deployment to rollback to.
	DeploymentId *string `pulumi:"deploymentId"`
	// Whether to skip pinning the rollback deployment. If false, the rollback deployment will be pinned and any new deployments including Auto Deploy on Push hooks will be disabled until the rollback is either manually committed or reverted via the CommitAppRollback or RevertAppRollback endpoints respectively. If true, the rollback will be immediately committed and the app will remain unpinned.
	SkipPin *bool `pulumi:"skipPin"`
}

// The set of arguments for constructing a AppsValidateRollback resource.
type AppsValidateRollbackArgs struct {
	// The app ID
	AppId pulumi.StringPtrInput
	// The ID of the deployment to rollback to.
	DeploymentId pulumi.StringPtrInput
	// Whether to skip pinning the rollback deployment. If false, the rollback deployment will be pinned and any new deployments including Auto Deploy on Push hooks will be disabled until the rollback is either manually committed or reverted via the CommitAppRollback or RevertAppRollback endpoints respectively. If true, the rollback will be immediately committed and the app will remain unpinned.
	SkipPin pulumi.BoolPtrInput
}

func (AppsValidateRollbackArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*appsValidateRollbackArgs)(nil)).Elem()
}

type AppsValidateRollbackInput interface {
	pulumi.Input

	ToAppsValidateRollbackOutput() AppsValidateRollbackOutput
	ToAppsValidateRollbackOutputWithContext(ctx context.Context) AppsValidateRollbackOutput
}

func (*AppsValidateRollback) ElementType() reflect.Type {
	return reflect.TypeOf((**AppsValidateRollback)(nil)).Elem()
}

func (i *AppsValidateRollback) ToAppsValidateRollbackOutput() AppsValidateRollbackOutput {
	return i.ToAppsValidateRollbackOutputWithContext(context.Background())
}

func (i *AppsValidateRollback) ToAppsValidateRollbackOutputWithContext(ctx context.Context) AppsValidateRollbackOutput {
	return pulumi.ToOutputWithContext(ctx, i).(AppsValidateRollbackOutput)
}

type AppsValidateRollbackOutput struct{ *pulumi.OutputState }

func (AppsValidateRollbackOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**AppsValidateRollback)(nil)).Elem()
}

func (o AppsValidateRollbackOutput) ToAppsValidateRollbackOutput() AppsValidateRollbackOutput {
	return o
}

func (o AppsValidateRollbackOutput) ToAppsValidateRollbackOutputWithContext(ctx context.Context) AppsValidateRollbackOutput {
	return o
}

// The ID of the deployment to rollback to.
func (o AppsValidateRollbackOutput) DeploymentId() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *AppsValidateRollback) pulumi.StringPtrOutput { return v.DeploymentId }).(pulumi.StringPtrOutput)
}

func (o AppsValidateRollbackOutput) Error() ErrorPtrOutput {
	return o.ApplyT(func(v *AppsValidateRollback) ErrorPtrOutput { return v.Error }).(ErrorPtrOutput)
}

// Whether to skip pinning the rollback deployment. If false, the rollback deployment will be pinned and any new deployments including Auto Deploy on Push hooks will be disabled until the rollback is either manually committed or reverted via the CommitAppRollback or RevertAppRollback endpoints respectively. If true, the rollback will be immediately committed and the app will remain unpinned.
func (o AppsValidateRollbackOutput) SkipPin() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *AppsValidateRollback) pulumi.BoolPtrOutput { return v.SkipPin }).(pulumi.BoolPtrOutput)
}

// Indicates whether the app can be rolled back to the specified deployment.
func (o AppsValidateRollbackOutput) Valid() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *AppsValidateRollback) pulumi.BoolPtrOutput { return v.Valid }).(pulumi.BoolPtrOutput)
}

// Contains a list of warnings that may cause the rollback to run under unideal circumstances.
func (o AppsValidateRollbackOutput) Warnings() AppRollbackValidationConditionArrayOutput {
	return o.ApplyT(func(v *AppsValidateRollback) AppRollbackValidationConditionArrayOutput { return v.Warnings }).(AppRollbackValidationConditionArrayOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*AppsValidateRollbackInput)(nil)).Elem(), &AppsValidateRollback{})
	pulumi.RegisterOutputType(AppsValidateRollbackOutput{})
}
